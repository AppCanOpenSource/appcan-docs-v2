[TOC]
# 1ï½¤ç®€ä»‹ [![](http://appcan-download.oss-cn-beijing.aliyuncs.com/%E5%85%AC%E6%B5%8B%2Fgf.png)]()
æ–‡ä»¶ä¸Šä¼ ç®¡ç†æ¥å£æ’ä»¶
## 1.1ï½¤è¯´æ˜
 æ–‡ä»¶ä¸Šä¼ ç®¡ç†æ¥å£API
## 1.2ï½¤UIå±•ç¤º
![](http://newdocx.appcan.cn/docximg/133734g2015g6g16d.png)
## 1.3ï½¤å¼€æºæºç 
æ’ä»¶æµ‹è¯•ç”¨ä¾‹ä¸æºç ä¸‹è½½:[ç‚¹å‡»](http://plugin.appcan.cn/details.html?id=193_index) æ’ä»¶ä¸­å¿ƒè‡³æ’ä»¶è¯¦æƒ…é¡µ (æ’ä»¶æµ‹è¯•ç”¨ä¾‹ä¸æ’ä»¶æºç å·²ç»æä¾›)
## 1.4ï½¤å¹³å°ç‰ˆæœ¬æ”¯æŒ

æœ¬æ’ä»¶çš„æ‰€æœ‰APIé»˜è®¤æ”¯æŒ**Android4.0+**å’Œ**iOS7.0+**æ“ä½œç³»ç»Ÿ

æœ‰ç‰¹æ®Šç‰ˆæœ¬è¦æ±‚çš„APIä¼šåœ¨æ–‡æ¡£ä¸­é¢å¤–è¯´æ˜

## 1.5ï½¤æ¥å£æœ‰æ•ˆæ€§

æœ¬æ’ä»¶æ‰€æœ‰APIé»˜è®¤åœ¨æ’ä»¶ç‰ˆæœ¬**4.0.0+**å¯ç”¨

åœ¨åç»­ç‰ˆæœ¬ä¸­æ–°æ·»åŠ çš„æ¥å£ä¼šåœ¨æ–‡æ¡£ä¸­é¢å¤–è¯´æ˜



# 2ï½¤APIæ¦‚è§ˆ

## 2.1ï½¤æ–¹æ³•
### ğŸ­ create åˆ›å»ºä¸Šä¼ å¯¹è±¡

`uexUploaderMgr.create(param)`

**è¯´æ˜:**

åˆ›å»ºä¸Šä¼ å¯¹è±¡

**å‚æ•°:**

| å‚æ•°åç§°  | å‚æ•°ç±»å‹   | æ˜¯å¦å¿…é€‰ | è¯´æ˜      |
| ----- | ------ | ---- | ------- |
| param | Object | æ˜¯    | ä¸Šä¼ å¯¹è±¡çš„è®¾ç½® |

```
var param = {
	url:,
	type:
}
```

å„å­—æ®µå«ä¹‰å¦‚ä¸‹:

| å­—æ®µåç§° | ç±»å‹     | æ˜¯å¦å¿…é€‰ | è¯´æ˜                                       |
| ---- | ------ | ---- | ---------------------------------------- |
| url  | String | æ˜¯    | è¦ä¸Šä¼ çš„æœåŠ¡å™¨åœ°å€                                |
| type | Number | å¦    | uploaderç±»å‹, 0: ä¸€èˆ¬ä¸Šä¼ å¯¹è±¡ 1: å…¨å±€ä¸Šä¼ å¯¹è±¡ 2: åå°ä¸Šä¼ å¯¹è±¡.æ­¤å‚æ•°ä¸ä¼ æ—¶é»˜è®¤ä¸º0. |

* type:
  * å…¨å±€ä¸Šä¼ å¯¹è±¡åœ¨å½“å‰ç½‘é¡µå…³é—­æ—¶ä¸ä¼šåœæ­¢ä¸Šä¼ 
  * åå°ä¸Šä¼ å¯¹è±¡æ˜¯å…¨å±€ä¸Šä¼ å¯¹è±¡,ä¸”å½“åº”ç”¨å¤„äºåå°æ—¶,ä»ç„¶å¯ä»¥è¿›è¡Œä¸Šä¼ 


**è¿”å›å€¼:**

ä¸Šä¼ å¯¹è±¡å®ä¾‹
åˆ›å»ºå¤±è´¥æ—¶è¿”å›null

**ç¤ºä¾‹:**

```javascript
var uploader = uexUploaderMgr.create({
	  url: "http://192.168.1.4:45678/post",
      type: 1
});
if(!uploader){
	alert("åˆ›å»ºå¤±è´¥!");
}
```

### ğŸ­ closeUploader å…³é—­ä¸Šä¼ å¯¹è±¡

`uexUploaderMgr.closeUploader(uploader)`

**è¯´æ˜:**

å…³é—­ä¸Šä¼ å¯¹è±¡

**å‚æ•°:**

| å‚æ•°åç§°     | å‚æ•°ç±»å‹     | æ˜¯å¦å¿…é€‰ | è¯´æ˜                                  |
| -------- | -------- | ---- | ----------------------------------- |
| uploader | Uploader | æ˜¯    | ç”±[create](# create åˆ›å»ºä¸Šä¼ å¯¹è±¡)æ¥å£åˆ›å»ºçš„ä¸Šä¼ å¯¹è±¡ |

**è¿”å›å€¼:**

Booleanç±»å‹,æ˜¯å¦å…³é—­æˆåŠŸ


**ç¤ºä¾‹:**

```
var uploader = ...//ä¹‹å‰åˆ›å»ºçš„ä¸Šä¼ å¯¹è±¡
var ret = uexUploaderMgr.closeUploader(uploader);
alert(ret);
```

### ğŸ­ setHeaders è®¾ç½®è¯·æ±‚å¤´

`uexUploaderMgr.setHeaders(uploader, json)`

**è¯´æ˜:**

è®¾ç½®httpè¯·æ±‚å¤´

**å‚æ•°:**

| å‚æ•°åç§°     | å‚æ•°ç±»å‹     | æ˜¯å¦å¿…é€‰ | è¯´æ˜                                  |
| -------- | -------- | ---- | ----------------------------------- |
| uploader | Uploader | æ˜¯    | ç”±[create](# create åˆ›å»ºä¸Šä¼ å¯¹è±¡)æ¥å£åˆ›å»ºçš„ä¸Šä¼ å¯¹è±¡ |
| json     | JSONå­—ç¬¦ä¸²  | æ˜¯    | è¯·æ±‚å¤´ä¿¡æ¯                               |

**è¿”å›å€¼:**

Booleanç±»å‹,æ˜¯å¦è®¾ç½®æˆåŠŸ

**ç¤ºä¾‹:**

```
var uploader = ...//ä¹‹å‰åˆ›å»ºçš„ä¸Šä¼ å¯¹è±¡
var headJson = {"myHeaderKey":"myHeaderValue"};
var ret = uexUploaderMgr.setHeaders(uploader, JSON.stringify(headJson)); 
alert(ret);
```

### ğŸ­ uploadFile ä¸Šä¼ æ–‡ä»¶

`uexUploaderMgr.uploadFile(uploader, filePath, field, quality, maxWidth,cb)`

**è¯´æ˜:**

ä¸Šä¼ æ–‡ä»¶

**å‚æ•°:**


| å‚æ•°åç§°     | å‚æ•°ç±»å‹     | æ˜¯å¦å¿…é€‰ | è¯´æ˜                                       |
| -------- | -------- | ---- | ---------------------------------------- |
| uploader | Uploader | æ˜¯    | ç”±[create](# create åˆ›å»ºä¸Šä¼ å¯¹è±¡)æ¥å£åˆ›å»ºçš„ä¸Šä¼ å¯¹è±¡      |
| filePath | String   | æ˜¯    | éœ€è¦ä¸Šä¼ çš„æ–‡ä»¶è·¯å¾„.æ”¯æŒ`wgt://`,`res://`,`file://`  |
| field    | String   | æ˜¯    | æ–‡ä»¶æ•°æ®æ‰€åœ¨çš„field                             |
| quality  | Number   | æ˜¯    | ç±»å‹å¦‚æœä¸ºå›¾ç‰‡,è¡¨ç¤ºæ˜¯å¦éœ€è¦å‹ç¼©åŠå‹ç¼©è´¨é‡. 0:ä¸å‹ç¼© 1:é«˜è´¨é‡å‹ç¼© 2:ä¸­è´¨é‡å‹ç¼© 3:ä½è´¨é‡å‹ç¼© |
| maxWidth | Number   | æ˜¯    | ç±»å‹å¦‚æœä¸ºå›¾ç‰‡,å›¾ç‰‡æŒ‰å°ºå¯¸ç­‰æ¯”å‹ç¼©çš„æœ€å¤§å®½åº¦                   |
| cb       | Function | æ˜¯    | æ–‡ä»¶ä¸Šä¼ ä¸­çš„ä¿¡æ¯ä¼šé€šè¿‡æ­¤å‡½æ•°å›è°ƒ                         |



**å›è°ƒå‚æ•°:**

```javascript
cb = function(packageSize, percent, responseString, status){}
```

| å‚æ•°åç§°          | å‚æ•°ç±»å‹   | è¯´æ˜                        |
| ------------- | ------ | ------------------------- |
| packageSize   | Number | ä¸Šä¼ åŒ…çš„æ€»å¤§å°,å•ä½:å­—èŠ‚             |
| percent       | Number | ä¸Šä¼ çš„ç™¾åˆ†æ¯”                    |
| resonseString | String | æœåŠ¡å™¨çš„response              |
| status        | Number | ä¸Šä¼ çš„çŠ¶æ€,0-ä¸Šä¼ ä¸­ 1-ä¸Šä¼ æˆåŠŸ 2-ä¸Šä¼ å¤±è´¥ |

**ç¤ºä¾‹:**

```javascript
var uploader = ...//ä¹‹å‰åˆ›å»ºçš„ä¸Šä¼ å¯¹è±¡
uexUploaderMgr.uploadFile(uploader,"res://uexCoverFlow2_tupian.png","imageField",1,640,function(packageSize, percent, responseString, status){
	switch (status) {
    case 0:
        document.getElementById('percentage').innerHTML = "ä¸Šä¼ åŒ…å¤§å°:"+packageSize+"<br>ä¸Šä¼ è¿›åº¦:"+percent+"%";
        break;
    case 1:
        alert("ä¸Šä¼ æˆåŠŸ,æœåŠ¡å™¨response:"+responseString);
        break;
    case 2:
        alert("ä¸Šä¼ å¤±è´¥");
        break;
    }
});
```

# 3ï½¤æ›´æ–°å†å²

### iOS

APIç‰ˆæœ¬: `uexUploaderMgr-4.0.0`

æœ€è¿‘æ›´æ–°æ—¶é—´:`2017-02-21`

| å†å²å‘å¸ƒç‰ˆæœ¬ | æ›´æ–°å†…å®¹ |
| ----- | ----- |
| 4.0.0 | ä¸Šä¼ åŠŸèƒ½æ’ä»¶ |

### Android

APIç‰ˆæœ¬: `uexUploaderMgr-4.0.3`

æœ€è¿‘æ›´æ–°æ—¶é—´:`2017-02-21`

| å†å²å‘å¸ƒç‰ˆæœ¬ | æ›´æ–°å†…å®¹ |
| ----- | ----- |
| 4.0.3 | :ä¿®å¤æœåŠ¡å™¨è¿”å›2XX(é200)å¯¼è‡´ä¸Šä¼ å¤±è´¥çš„é—®é¢˜,å¹¶ä¿®æ”¹è‡ªåŠ¨å¤„ç†é‡å®šå‘ |
| 4.0.2 | :ä¿®å¤æ–‡ä»¶åæœ‰æ±‰å­—æ—¶å‡ºé”™çš„é—®é¢˜ |
| 4.0.1 | :ä¿®å¤uploadFileå‹ç¼©å‚æ•°å¤±æ•ˆçš„é—®é¢˜ |
| 4.0.0 | :4.0 |
